---
title: "Invisible Barriers: Understanding Global Health Disparities through Birth Registration and HIV Interventions"
format: html
editor: visual
theme: cosmo
---

```{r setup, include=FALSE}
library(tidyverse)
library(ggplot2)
library(sf)
library(dplyr)
library(viridis)
library(readr)
library(ggthemes)
```
Spring 2025-BAA1030 Data Analytics & Storytelling (20074) \
Student: Shazia Khan \
Student ID: A00048018 \
Programme: MSc in Management (Strategy) \

# Executive Summary

From inequality in maternal health access to inadequate birth registration processes, millions remain unfairly disenfranchised across the globe.\
This analysis delves into the dynamics of healthcare coverage and legal identity using birth registration rates, HIV-related interventions for pregnant women, and socioeconomic indicators.

------------------------------------------------------------------------

# Introduction

Imagine children born without legal identity or maternal health support. This analysis dives deeper into: 1. **Birth registration rates** — a vital statistic reflecting access to basic rights. 2. **HIV PMTCT programs** — maternal health services critical for child and maternal survival.\
Combining data from global sources, this report uncovers patterns that demand urgent policy changes.

------------------------------------------------------------------------

# Scatter Plot: GDP vs Life Expectancy

```{r, warning=FALSE, message=FALSE}
metadata <- read_csv("metadata.csv")

data <- metadata %>%
  select(country, `GDP per capita (constant 2015 US$)`, `Life expectancy at birth, total (years)`) %>%
  drop_na()

ggplot(data, aes(x = `GDP per capita (constant 2015 US$)`, y = `Life expectancy at birth, total (years)`)) +
  geom_point(color = "steelblue", size = 3, alpha = 0.7) +
  geom_smooth(method = "lm", color = "darkred", se = FALSE) +
  theme_minimal() +
  labs(
    title = "Life Expectancy vs GDP: Economics Meets Longevity",
    x = "GDP per Capita (USD)",
    y = "Life Expectancy at Birth (Years)",
    caption = "Source: Global Health Metadata"
  )
```

## Insight:

Countries with higher GDP per capita, such as Albania, enjoy longer life expectancy compared to nations like Afghanistan.

------------------------------------------------------------------------

# Bar Chart: Top 10 Countries by HIV ARV Coverage

```{r, warning=FALSE, message=FALSE}
indicator_1 <- read_csv("indicator_1.csv")

top10_arv <- indicator_1 %>%
  group_by(country) %>%
  summarize(ARV_Coverage = sum(obs_value)) %>%
  arrange(desc(ARV_Coverage)) %>%
  slice(1:10)

ggplot(top10_arv, aes(x = reorder(country, ARV_Coverage), y = ARV_Coverage, fill = ARV_Coverage)) +
  geom_bar(stat = "identity") +
  coord_flip() +
  scale_fill_viridis_c() +
  theme_minimal() +
  labs(
    title = "Top 10 Countries: HIV ARV Coverage",
    x = "country",
    y = "Total ARV Coverage",
    fill = "ARV Coverage",
    caption = "Source: PMTCT Data (Indicator 1)"
  )
```

## Insight:

Countries such as Angola and Algeria lead the way in ARV intervention programs, whereas Afghanistan requires attention.

------------------------------------------------------------------------

# Time Series: Birth Registration Trends

```{r, warning=FALSE, message=FALSE}
indicator_2 <- read_csv("indicator_2.csv")

birth_registration <- indicator_2 %>%
  filter(indicator == "Percentage of children under age 5 whose births are registered") %>%
  select(country, time_period, obs_value, sex) %>%
  filter(sex == "Total")

ggplot(birth_registration, aes(x = time_period, y = obs_value, color = country)) +
  geom_line(size = 1.5) +
  theme_minimal() +
  labs(
    title = "Trends in Birth Registration Over Time",
    x = "Year",
    y = "Birth Registration (%)",
    color = "country",
    caption = "Source: UNICEF Birth Registration Data (Indicator 2)"
  )
```

## Insight:

While high-income regions like Albania maintain universal birth registrations, low-income nations like Afghanistan show stagnant rates.

------------------------------------------------------------------------

# World Map: Birth Registration Coverage

```{r, warning=FALSE, message=FALSE}
world <- map_data("world")

map_data <- indicator_2 %>%
  filter(indicator == "Percentage of children under age 5 whose births are registered", sex == "Total") %>%
  select(country, obs_value) %>%
  rename(region = country) %>%
  drop_na()

map_world <- left_join(world, map_data, by = "region")

ggplot(map_world, aes(long, lat, group = group)) +
  geom_polygon(aes(fill = obs_value), color = "white") +
  scale_fill_viridis_c(option = "plasma", na.value = "grey90") +
  theme_void() +
  labs(
    fill = "Birth Registration (%)",
    title = "Global Birth Registration Coverage",
    caption = "Source: UNICEF Indicator Data"
  )
```

## Insight:

This map reveals uneven coverage — stark contrasts between Sub-Saharan Africa and high-income countries like Europe.

------------------------------------------------------------------------

# Weighted Vulnerability Index

```{r, warning=FALSE, message=FALSE}
vulnerability <- metadata %>%
  mutate(
    Vulnerability_Index = (`Population, total` / `GDP per capita (constant 2015 US$)`) *
      (100 - dplyr::case_when(`Life expectancy at birth, total (years)` > 50 ~ 100, TRUE ~ 0))
  ) %>%
  arrange(desc(Vulnerability_Index)) %>%
  slice(1:10)

ggplot(vulnerability, aes(x = reorder(country, Vulnerability_Index), y = Vulnerability_Index, fill = Vulnerability_Index)) +
  geom_bar(stat = "identity") +
  coord_flip() +
  scale_fill_viridis_c() +
  theme_minimal() +
  labs(
    title = "Top 10 Most Vulnerable Countries",
    x = "country",
    y = "Vulnerability Index",
    fill = "Index Score",
    caption = "Source: Calculated Metadata"
  )
```

## Insight:

Countries such as Afghanistan, Chad, and Somalia demonstrate extreme vulnerabilities, requiring multi-sectoral solutions.

------------------------------------------------------------------------

# SDG Alignment & Policy Implications

SDG 3: Good Health and Well-being Strengthening PMTCT programs and expanding birth registration can save lives and secure futures.

## SDG 10: Reduced Inequalities

Closing registration gaps ensures legal identity and healthcare access for marginalized groups.

## Call to Action:

Empowering health systems globally must begin with data science and policymaking working in tandem.

------------------------------------------------------------------------

# Conclusion

This analysis underlines how health inequities in maternal care and birth registration perpetuate global disparities. Bridging these gaps represents a critical step toward achieving the Sustainable Development Goals.
